<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Salon de la fama del Rock</title>
  <!-- icono del la pestaña -->
  <link rel="shortcut icon" href="./Biblioteca/icono/icon.png">
  <!-- link de la libreria para leer las etiquetas de aframe -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script>
  <!-- script mirror -->
  <script src="https://unpkg.com/aframe-mirror-component/dist/aframe-mirror-component.min.js"></script>
  <!-- script para gifs -->
  <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
  <script src="https://rawgit.com/mayognaise/aframe-gif-component/master/dist/aframe-gif-component.min.js"></script>
  <!-- para leer animación -->
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <!-- script para texturas -->
  <script src="https://cdn.jsdelivr.net/npm/aframe-enviropacks@latest/aframe-enviropacks.js"></script>
  <!-- script para texto en 3d -->
  <script src="https://unpkg.com/aframe-text-geometry-component@0.5.2/dist/aframe-text-geometry-component.min.js"></script>
  <!-- script para interacciones -->
  <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
  <!-- LIBRERIAS DE COLISIONES Y FÍSICAS-->
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.min.js"></script>
  <!-- scripts movimiento de la cámara -->
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
  <script src="https://unpkg.com/super-hands@2.0.2/dist/super-hands.min.js"></script>
  <!-- scripts para partículas-->
  <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script>
  <script src="https://unpkg.com/aframe-particle-system-component@1.1.3/dist/aframe-particle-system-component.min.js"></script>
  <script src="https://unpkg.com/aframe-extras.ocean@latest/dist/aframe-extras.ocean.min.js"></script>
  <!-- scripts para enviroments-->
  <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
  <!-- scipts para animacion de agua -->
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.1.0/dist/aframe-extras.min.js"></script>


  <!-- scripts para truco de transparencia en modelos 3d-->
  <!-- <script>
      AFRAME.registerComponent('model-opacity', {
          schema: { default: 1.0 },
          init: function () {
              // this.el.addEventListener('model-loaded', this.update.bind(this));
              this.el.addEventListener("model-loaded", () => {
                  const object3DEl = this.el.object3DMap;
                  ;








                  var mesh = this.el.getObject3D('mesh'); // For hand, the result is undefined
                  // var mesh = this.el.object3DMap.mesh; // For hand, the result is undefined
                  console.log(mesh);
                  var data = this.data;
                  if (!mesh) { return; }
                  mesh.traverse(function (node) {
                      if (node.isMesh) {
                          ;
                          node.material.opacity = data;
                          node.material.transparent = data < 1.0;
                          node.material.needsUpdate = true;
                      }
                  });
              }, 2000)
















          },
          update: function () {
              var mesh = this.el.getObject3D('mesh');
              var data = this.data;
              if (!mesh) { return; }
              mesh.traverse(function (node) {
                  if (node.isMesh) {
                      ;
                      node.material.opacity = data;
                      node.material.transparent = data < 1.0;
                      node.material.needsUpdate = true;
                  }
              });
          }
      });
  </script> -->
</head>
  
  <body>
    <a-scene light="defaultLightsEnabled: false" fog="color: #E11200; far: 10; density:.8" shadow="type: basic" physics="gravity: -9; debug: false" reflection="directionalLight:a-light#dirlight;">
      
      <a-asset>
         <!-- Texturas -->
          <!-- madera -->
         <img id="M1diffuse" src="./Biblioteca/Texturas/M1/M1diff_1k.jpg">
         <img id="M1roughness" src="./Biblioteca/Texturas/M1/M1rough_1k.jpg">
         <img id="M1normal" src="./Biblioteca/Texturas/M1/M1nor_gl_1k.jpg">
          <!-- Metal bronce -->
         <img id="M2diffuse" src="./Biblioteca/Texturas/M2/MetalBronzeWorn001_COL_2K_METALNESS.png">
         <img id="M2roughness" src="./Biblioteca/Texturas/M2/MetalBronzeWorn001_ROUGHNESS_2K_METALNESS.png">
         <img id="M2normal" src="./Biblioteca/Texturas/M2/MetalBronzeWorn001_NRM_2K_METALNESS.png">
         <img id="M2metalness" src="./Biblioteca/Texturas/M2/MetalBronzeWorn001_ROUGHNESS_2K_METALNESS.png">
        
         <!-- texturas -->
         <img id="slab" src="./Biblioteca/Imagenes/slab.jpg">
         <img id="pared" src="./Biblioteca/Imagenes/concreto.jpg">

         <!-- audio -->
         <audio id="Song" src="./Biblioteca/audio/Black Sabbath  War Pigs.mp3"></audio>

         <!-- logos -->

         <img id="beatles_logo" src="./Biblioteca/Imagenes/logos/Beatles logo.png">
         <img id="elton_logo" src="./Biblioteca/Imagenes/logos/elton logo.png">
         <img id="led_logo" src="./Biblioteca/Imagenes/logos/led.png">
         <img id="rolling_logo" src="./Biblioteca/Imagenes/logos/rolling logo.png">
         <img id="hendrix_logo" src="./Biblioteca/Imagenes/logos/hendrix logo.png">
         <img id="elvis_logo" src="./Biblioteca/Imagenes/logos/elvis logo.png">

         <!-- modelos -->

         <a-asset-item id="Guitarra" src="./Biblioteca/Modelos/guitar/scene.gltf"></a-asset-item>
         <a-asset-item id="instrumentos" src="./Biblioteca/Modelos/guitar2/guitardouble.glb"></a-asset-item>
         <a-asset-item id="sinte" src="./Biblioteca/Modelos/yamaha_dgx_660_piano.glb"></a-asset-item>
         <a-asset-item id="bateria" src="./Biblioteca/Modelos/drumkitss.gltf"></a-asset-item>


         <!-- animados -->
        
         <a-asset-item id="A2" src="./Biblioteca/Modelos/con animacion/A2/A2.gltf"></a-asset-item>
         <a-asset-item id="A3" src="./Biblioteca/Modelos/con animacion/A3/A3.gltf"></a-asset-item>
         <a-asset-item id="A4" src="./Biblioteca/Modelos/con animacion/A4/A4.gltf"></a-asset-item>
         <a-asset-item id="A5" src="./Biblioteca/Modelos/con animacion/A5/A5.gltf"></a-asset-item>
         <a-asset-item id="A6" src="./Biblioteca/Modelos/con animacion/A6/A6.gltf"></a-asset-item>
      </a-asset>

      <!-- camara -->
      <a-entity movement-controls kinematic-body>
        <a-entity 
        id="camera" 
        camera position="0 1.6 0" 
        look-controls >
        <a-entity cursor="fuse: false;" 
        position="0 0 -1" 
        geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02" material="color: #FFffff; shader: flat"></a-entity></a-entity></a-entity>
        
        <!-- luces -->
        <!-- general -->
        <a-light 
          position="0 5 0" 
          type="point" 
          color="#E11200" 
          castShadow="true" 
          intensity=".6">
        </a-light>
        <!-- spot centro -->
        <a-light 
          position="0 5 0" 
          type="spot" 
          color="#E11200" 
          castShadow="true" 
          intensity="2" 
          angle="40" 
          decay="2"
          penumbra="0.5" 
          rotation="-30 0 0"
          animation="property: rotation; to: -150 0 0 ; dir: alternate; easing: linear; loop: true; dur: 2000">
        </a-light>


      <!-- Paredes -->
      <a-box 
        position="6 3 0" 
        rotation="0 0 0" 
        material="src:#pared; repeat: 3 3; flatShading: true; metalness: 0; roughness: 1; receiveShadow:true; castShadow: true" 
        scale=".5 6 12" 
        side="double"
        static-body
        ></a-box>
        <a-box 
        position="-6 3 0" 
        rotation="0 0 0" 
        material="src:#pared; repeat: 3 3; flatShading: true; metalness: 0; roughness: 1; receiveShadow:true; castShadow: true" 
        scale=".5 6 12" 
        side="double"
        static-body
        ></a-box>
        <a-box 
        position="0 3 6" 
        rotation="0 90 0" 
        material="src:#pared; repeat: 3 3; flatShading: true; metalness: 0; roughness: 1; receiveShadow:true; castShadow: true" 
        scale=".5 6 12" 
        side="double"
        static-body
        ></a-box>
        <a-box 
        position="0 3 -6" 
        rotation="0 90 0" 
        material="src:#pared; repeat: 3 3; flatShading: true; metalness: 0; roughness: 1; receiveShadow:true; castShadow: true" 
        scale=".5 6 12" side="double"
        static-body
        ></a-box>
      
      
      <!-- Suelo -->
      <a-plane static-body 
      position="0 0 0" 
      rotation="-90 0 0" 
      color="#0e23aa" 
      scale="50 50" 
      opacity="0"></a-plane>
      <a-box 
      position="0 0 0" 
      rotation="0 90 0" 
      material="src:#slab; repeat: 20 20; flatShading: true; metalness: 0; roughness: 1; receiveShadow:true; castShadow: true" 
      scale="20 .5 20" 
      side="double"
      static-body
      ></a-box>

      <!-- Techo -->
      <a-box 
      position="0 5 0" 
      rotation="0 90 0" 
      material="src:#pared; repeat: 3 3; flatShading: true; metalness: 0; roughness: 1; receiveShadow:true; castShadow: true" 
      scale="12 .5 12" 
      side="double"
      ></a-box>


      <!-- beatles -->
      <a-entity 
       position="-3.5 0 -5.5" 
       rotation="0 0 0"  
       event-set__1="_event: mouseenter; _target: #P1; intensity:3; color: #00EA14; angle:20"
       event-set__2="_event: mouseleave; _target: #P1; intensity:2; color: #FFFFFF; angle:15"> 
       <!-- Logo -->
       <a-image 
       src="#beatles_logo" 
       position=".04 2 .1" 
       width="2"
       height="1" 
       scale=".5 .5"
       side="double" 
       material="shader: standard; flatShading: true; metalness: 0; roughness: 1; castShadow: true; receiveShadow: true; transparent: true; opacity: 1">
      </a-image>
      <!-- Spot puerta -->
      <a-light 
       id="P1"
       type="spot" 
       color="#FFffff" 
       position="0 0 4" 
       rotation="0 0 0" 
       intensity="2" 
       angle="15" 
       penumbra="0.4" 
       castshadow="true"
       animation="property: rotation; to: 25 0 ; dir: alternate; easing: linear; loop: true;dur: 1500">
      </a-light>
      <!-- Puerta -->
      <a-entity 
       position="0 1.5 0"
       rotation="0 90 0"
       link="href: S1.html" 
       clickable>
       <!-- tambor puerta -->
        <a-box 
         position="0 0 0" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".1 2.5 1.2" 
         side="double">
        </a-box>
        <!-- Marcos -->
        <a-box 
         position="0 0 .6" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 2.5 .05" 
         side="double">
        </a-box>
        <a-box 
         position="0 0 -.6" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 2.5 .05" 
         side="double">
        </a-box>
        <a-box 
         position="0 1.25 0" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 .05 1.25" 
         side="double">
        </a-box>
        <!-- Pomo -->
        <a-sphere 
         position="-.11 -.1 .4" 
         radius=".04" 
         material="src: #M2diffuse; roughnessMap: #M2roughness; normalMap: #M2normal; metalnessMap: #M2metalness; repeat:2 2; flatShading: true; receiveShadow:true; castShadow: true">
        </a-sphere>
      </a-entity>
      </a-entity>
      
      <!-- Elton John -->
      <a-entity 
      position="0 0 -5.5" 
      rotation="0 0 0"  
      event-set__1="_event: mouseenter; _target: #P2; intensity:3; color: #00EA14; angle:20"
      event-set__2="_event: mouseleave; _target: #P2; intensity:2; color: #FFFFFF; angle:15">
       <!-- Logo -->
        <a-image 
        src="#elton_logo" 
        position=".04 2 .1" 
       width="1"
       height="1" 
       scale=".5 .5"
       side="double" 
       material="shader: standard; flatShading: true; metalness: 0; roughness: 1; castShadow: true; receiveShadow: true; transparent: true; opacity: 1">
      </a-image>
      <!-- Spot puerta -->
      <a-light 
       id="P2"
       type="spot" 
       color="#FFffff" 
       position="0 0 4" 
       rotation="0 0 0" 
       intensity="2" 
       angle="14" 
       penumbra="0.4" 
       castshadow="true"
       animation="property: rotation; to: 25 0 ; dir: alternate; easing: easeInQuad; loop: true;dur: 1500">
      </a-light>
      <!-- Puerta -->
      <a-entity 
       position="0 1.5 0"
       rotation="0 90 0"
       link="href: S2.html" 
       clickable>
       <!-- tambor puerta -->
        <a-box 
         position="0 0 0" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".1 2.5 1.2" 
         side="double">
        </a-box>
        <!-- Marcos -->
        <a-box 
         position="0 0 .6" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 2.5 .05" 
         side="double">
        </a-box>
        <a-box 
         position="0 0 -.6" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 2.5 .05" 
         side="double">
        </a-box>
        <a-box 
         position="0 1.25 0" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 .05 1.25" 
         side="double">
        </a-box>
        <!-- Pomo -->
        <a-sphere 
         position="-.11 -.1 .4" 
         radius=".04" 
         material="src: #M2diffuse; roughnessMap: #M2roughness; normalMap: #M2normal; metalnessMap: #M2metalness; repeat:2 2; flatShading: true; receiveShadow:true; castShadow: true">
        </a-sphere>
      </a-entity>
      </a-entity>

     <!-- Rolling stones -->
      <a-entity 
      position="3.5 0 -5.5" 
      rotation="0 0 0"
      event-set__1="_event: mouseenter; _target: #P3; intensity:3; color: #00EA14; angle:20"
      event-set__2="_event: mouseleave; _target: #P3; intensity:2; color: #FFFFFF; angle:15">
        <!-- Logo -->
        <a-image 
        src="#rolling_logo" 
        position=".04 2 .1" 
       width="2"
       height="1" 
       scale=".5 .5"
       side="double" 
       material="shader: standard; flatShading: true; metalness: 0; roughness: 1; castShadow: true; receiveShadow: true; transparent: true; opacity: 1">
      </a-image>
      <!-- Spot puerta -->
      <a-light 
       id="P3"
       type="spot" 
       color="#FFffff" 
       position="0 0 4" 
       rotation="0 0 0" 
       intensity="2" 
       angle="15" 
       penumbra="0.4" 
       castshadow="true"
       animation="property: rotation; to: 25 0 ; dir: alternate; easing: easeOutQuad; loop: true;dur: 1500">
      </a-light>
      <!-- Puerta -->
      <a-entity 
       position="0 1.5 0"
       rotation="0 90 0"
       link="href: S3.html" 
       clickable>
       <!-- tambor puerta -->
        <a-box 
         position="0 0 0" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".1 2.5 1.2" 
         side="double">
        </a-box>
        <!-- Marcos -->
        <a-box 
         position="0 0 .6" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 2.5 .05" 
         side="double">
        </a-box>
        <a-box 
         position="0 0 -.6" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 2.5 .05" 
         side="double">
        </a-box>
        <a-box 
         position="0 1.25 0" 
         rotation="0 0 0" 
         material="src: #M1diffuse; roughnessMap: #M1roughness; normalMap: #M!normal; repeat:1 1; flatShading: true; receiveShadow:true; castShadow: true" 
         scale=".15 .05 1.25" 
         side="double">
        </a-box>
        <!-- Pomo -->
        <a-sphere 
         position="-.11 -.1 .4" 
         radius=".04" 
         material="src: #M2diffuse; roughnessMap: #M2roughness; normalMap: #M2normal; metalnessMap: #M2metalness; repeat:2 2; flatShading: true; receiveShadow:true; castShadow: true">
        </a-sphere>
      </a-entity>
      </a-entity>

      <!-- modelos -->
      <!-- guitarra 1 -->
      <a-entity 
       gltf-model="#Guitarra" 
       position="0 3.5 -5.5" 
       rotation="0 -90 0" 
       scale=".3 .3 .3" 
       material="flatShading: true; metalness: 1; roughness: 1; castShadow: true; receiveShadow: true">
      </a-entity>
      <!-- instrumentos -->
      <!-- Guitarra -->
      <a-entity 
       gltf-model="#instrumentos" 
       position="4 0.3 2" 
       rotation="0 230 0" 
       scale=".5 .5 .5" 
       material="flatShading: true; metalness: 1; roughness: 1; castShadow: true; receiveShadow: true"
       static-body>
      </a-entity>
      <!-- sintetizador -->
      <a-entity 
       gltf-model="#sinte" 
       position="-3 1 2" 
       rotation="0 -30 0" 
       scale="1.1 1.1 1.1" 
       material="flatShading: true; metalness: 0; roughness: 1; castShadow: true; receiveShadow: true">
      <a-box
       scale=".7 1.5 2"
       position="0 0 0"
       rotation="0 90 0"
       material="opacity: 0"
       static-body></a-box>
      </a-entity>

      <!-- bateria -->
      <a-entity 
      gltf-model="#bateria" 
      position="1 .22 3" 
      rotation="0 180 0" 
      scale="1.5 1.5 1.5" 
      material="flatShading: true; metalness: 0; roughness: 1; castShadow: true; receiveShadow: true">
      <a-box
      scale="2 1.5 1"
      position="0.1 .7.5 0"
      material="opacity: 0"
      static-body></a-box>
      </a-entity>

      <!-- musica de fondo --> 
      <a-entity sound="src:#Song; autoplay: true; loop: true; volume: 0.6"></a-entity>

</a-scene>

      <div class="a-loader-title" style="display: none;">Proyecto</div>
    </a-scene>
  </body>
</html>